<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Text Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/htmx.org@1.8.4"></script>
  </head>
  <body>
    <div class="container mt-5">
      <h1>AI Text Generator</h1>
      <form hx-post="/generate" hx-target="#result" hx-swap="innerHTML">
        <div class="mb-3">
          <label for="prompt" class="form-label">Enter your prompt:</label>
          <textarea
            class="form-control"
            id="prompt"
            name="prompt"
            rows="3"
            required
          ></textarea>
        </div>
        <div class="mb-3">
          <label for="words" class="form-label">Number of words:</label>
          <input
            type="range"
            class="form-range"
            id="words"
            name="words"
            min="50"
            max="500"
            step="10"
            value="100"
            required
          />
          <small id="wordsValue" class="form-text text-muted"
            >Selected: 100 words</small
          >
        </div>
        <button type="submit" class="btn btn-primary">Generate</button>
      </form>
      <div id="result" class="mt-3"></div>
    </div>

    <script>
      // Update the displayed value when the slider changes
      const wordsSlider = document.getElementById("words");
      const wordsValue = document.getElementById("wordsValue");

      wordsSlider.addEventListener("input", function () {
        wordsValue.textContent = `Selected: ${this.value} words`;
      });
    </script>
  </body>
</html>
